<!doctype html>
<html>
	<head>
		<title>
			La Protection des Actifs grâce à une bonne Gestion du Secret
		</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="css/custom.css">
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css" id="theme">
		<link rel="stylesheet" href="plugin/highlight/monokai.css"
					id="highlight-theme">
	</head>
	<body class=pointer>
		<div class="reveal">
			<div class="slides">


				<!--section data-background="#283546"-->
				<section data-background="img/doors_new.jpg">
          <h2>
              La Protection des Actifs grâce à une bonne Gestion du Secret
          </h2>

          <aside class="notes">
						<ul>
							<li><i>mouvement pointer</i></li>
							<li>Tristan Pinaudeau</li>
							<li>alternant - 5ème année - EPSI Bordeaux</li>
							<li>ingénieur SRE junior - Cdiscount</li>
							<li>mission : dév du coffre fort</li>
							<li>secu - devops - virtualisation - pratiques dev</li>
							<li>objectif : étendre mémoire pour nouvel aspect</li>
							<li>introduit problématique soutenance</li>
							<li>rapide rappel sur le contenu du mémoire</li>
						</ul>
          </aside>
        </section>


				<!-- RAPPELS -->
				<section>

          <section>
						<h3>Rappels du mémoire</h3>
						<p style="color: #444">( TL ; DR )</p>

            <aside class="notes">
							Tout de suite ces quelques rappels qui vont reprendre et
							synthètiser le contenu du mémoire pour donner un point d'entré à
							cette soutenance
            </aside>
          </section>


          <section>
						<blockquote>
							&ldquo; Pour une entreprise comptant plusieurs dizaines d’équipes
							aux méthodes et cultures diverses, comment limiter l’exposition
							aux cyberattaques de ses actifs et de son image en évitant la
							fuite de ses secrets sensibles ? &rdquo;
						</blockquote>
          </section>


					<section>
						<blockquote>
							&ldquo; Une entreprise comptant plusieurs dizaines d'équipes
							&rdquo;
						</blockquote>

						<img src="img/cdiscount.png" height="300" />

						<aside class="notes">
							<ul>
								<li>Cdiscount</li>
								<li>leader français du commerce électronique</li>
								<li>sujet d'expérimentation du mémoire</li>
							</ul>
						</aside>
					</section>


 					<section>
						<blockquote>
							&ldquo; Méthodes et cultures diverses &rdquo;
						</blockquote>

						<img src="img/teams_spirit.svg" height="200" />

						<aside class="notes">
							<ul>
								<li>équipes != ; approches != ; même problème</li>
								<li>point <strong>+</strong> innovation et création de valeur</li>
								<li>hétérogènéité moins bien pour sécurité</li>
								<li>SMSI - ISO 27001</li>
								<li>
									besoin : une solution qui embrasse pluralité des cultures
									d'équipes tout en permettant une unification de la gestion des
									secrets
								</li>
							</ul>
						</aside>
					</section>


					<section>
						<blockquote>
							&ldquo; Limiter l'exposition aux cyberattaques &rdquo;
						</blockquote>

						<img src="img/hacker.svg" height="200" />

						<aside class="notes">
							L'objectif final c'est naturellement de limiter l'exposition aux
							cyberattaques en minimisant les éléments confidentiels auquel un
							cybercriminel pourrait avoir accès.
						</aside>
					</section>


					<section>
						<blockquote>
							&ldquo; Protéger les actifs et l'image &rdquo;
						</blockquote>

						<img class=fragment src=img/wallet.svg height=150 />
						<span class=vertical-separator></span>
						<img class=fragment src=img/social_dashboard.svg height=150 />

						<aside class="notes">
							<!-- TODO mettre en deux phrase -->
							<ul>
								<li>actifs mais aussi et surtout image</li>
								<li>image important pour e-commerce</li>
								<li>edward snowden + le RGPD = opinion pub sensible</li>
								<li>donc sécu = contrainte</li>
								<li>mais aussi argument marketing face aux GAFAM</li>
							</ul>
						</aside>
					</section>


					<section>
						<blockquote>
							&ldquo; Empêcher la fuite des secrets sensibles &rdquo;
						</blockquote>

						<img class=fragment src="img/credit_card.svg" height=150 />
						<span class=vertical-separator></span>
						<img class=fragment src="img/strategic_secret.svg" height=150 />

						<aside class="notes">
							<ul>
								<li>il faut protéger les secrets sensibles</li>
								<li>client (ex: données brancaires)</li>
								<li>strategic (ex: database, code, rapports)</li>
							</ul>
						</aside>
					</section>


          <section>
						<h4>Solution - CERBERE</h4>

						<img src="img/diag_before_vault.svg" height=300 />

						<aside class="notes">
							<ul>
								<li>place d'un opérateur qui init une db</li>
								<li>secret accès DB = clef rouge</li>
								<li>problème : moins révocable</li>
								<li>problème : support pas spécialisé</li>
							</ul>
						</aside>
          </section>


          <section style="text-align: center">
						<div class="animation-parent">
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_after_vault_0.svg" height=500 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_after_vault_1.svg" height=500 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_after_vault_2.svg" height=500 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_after_vault_3.svg" height=500 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_after_vault_4.svg" height=500 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_after_vault_5.svg" height=500 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_after_vault_6.svg" height=500 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_after_vault_7.svg" height=500 />
							</div>
						</div>

						<aside class="notes">
							<ul>
								<li>3 même acteurs</li>
								<li>keycloak</li>
								<ul>
									<li>authentification</li>
									<li>open source</li>
									<li>red hat</li>
								</ul>
								<li>vault</li>
								<ul>
									<li>coffre fort</li>
									<li>open source</li>
									<li>hashicorp</li>
								</ul>
								<li>2 nouveaux composants introduits par CERBERE</li>
								<li>server auth (explain)</li>
								<li>server vault (explain)</li>
								<li>...</li>
								<li>jeton : limité en temps et permissions</li>
								<li>...</li>
								<li>
									une fois utilisé plus besoin de conserver le secret qui sera
									bientôt renouvelé par le coffre
								</li>
							</ul>
						</aside>
          </section>

        </section>


				<section>
					<h3>Problématique de la soutenance</h3>

					<blockquote class=fragment>
						&ldquo; Comment les pratiques et technologies <strong
						class=stand-out>DevOps / SRE</strong> permettent d'apporter un cadre
						sain et sécurisé nécessaire au déploiement d'une plateforme de
						<strong class=stand-out>coffre-fort numérique</strong> ?&rdquo;
					</blockquote>

					<aside class=notes>
						<ul>
							<li>
								réponse mémoire : mise en place d'un projet de gestion des
								secrets articulé autour d'un coffre fort numérique
							</li>
							<li>
								évite la fuite des secrets sensibles et ainsi limiter l'
								exposition aux cyberattaques d'une grande entreprise
							</li>
							<li>complété - autres pistes de réponse</li>
							<li>SLIDE</li>
						</ul>
					</aside>
				</section>


				<!-- PART 1 -->
				<section>

					<section>
						<h3>S. R. E.</h3>
						<ol>
							<li>Infrastructure As Code</li>
							<li>Tests Automatisés</li>
							<li>Intégration Continue</li>
							<li>Approche Produit</li>
						</ol>

						<aside class="notes">
							Au travers de cette problématique nous allons voir comment ce
							projet utilise ou souhaite utiliser les conceptes comme
							l'infrastrucutre as code, les tests automatisé l'intégration
							continu et l'approche produit pour développer une plateforme de
							sécurité selon les principes SRE.
							<br><br>
							Avant d'entrer au coeur de cette soutenance, faisons le point sur
							la définition même de SRE.
						</aside>
					</section>


					<section>
						<div style="float: left; text-align: left">
							<p>
								<strong class=stand-out>S</strong>
								<span class=fragment>ite</span>
							</p>
							<p>
								<strong class=stand-out>R</strong>
								<span class=fragment>eliability</span>
							</p>
							<p>
								<strong class=stand-out>E</strong>
								<span class=fragment>ngineering</span>
							</p>
						</div>

						<span class=fragment>
							<img class=fragment src="img/server_cluster.svg" width=200 />
							<span style="margin: 15px 50px" class=vertical-separator></span>
						</span>
						<img class=fragment src="img/devellopper_activity.svg" width=200 />

						<aside class="notes">
							<ul>
								<li>acronyme</li>
								<li>français : "Science de la fiabilité"</li>
								<li>équipes expérimentales de Google</li>
								<li>ancré dans pratiques DevOps</li>
								<li>
									ingénieurs google ? "et si je donnais la responsabilité de
									quelque chose d'aussi serieux que mes serveurs de production à
									des gens aussi superficiels que des développeurs"
								</li>
								<li>Comment ?</li>
							</ul>
						</aside>
					</section>


					<section>
						<table>
							<thead>
								<tr>
									<th> </th>
									<th style="text-align: center">+</th>
									<th style="text-align: center">-</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<th>OPS</th>
									<td><span class=color-good>Sécurité</span></td>
									<td><span class=color-bad>Lourdeur</span></td>
								</tr>
								<tr>
									<th>DEV</th>
									<td><span class=color-good>Agilité</span></td>
									<td><span class=color-bad>Sécurité</span></td>
								</tr>
							</tbody>
						</table>
						
						<aside class="notes">
							<ul>
								<li><strong>2 profils :</strong></li>
								<li>opérationnel</li>
								<ul>
									<li>rigoureuses</li>
									<li>processus de management rigides</li>
									<li>sécurité optimales</li>
									<li>lenteurs</li>
									<li>couts financiers</li>
									<li>dégradation qualités travail</li>
								</ul>
								<li>développeurs</li>
								<ul>
									<li>agiles</li>
									<li>fonctionnalités innovantes</li>
									<li>dynamiques et rapides</li>
									<li>culture de la production</li>
									<li>- rigeur nécessaire</li>
									<li>réseau prod chaotiques</li>
								</ul>
							</ul>
						</aside>
					</section>


					<section>
						DevOps = <span class=color-good>Sécurité</span> + <span class=color-good>Agilité</span>

						<aside class=notes>
 							Ils ont donc décidé de consitué des équipes hétérogènes
							d'experts systèmes et réseaux et de développeurs souvent appelés
							DevOps. Liant ainsi agilité et sécurité.
						</aside>
					</section>

				</section>


				<section>

					<section>
						<h4 style="color: #e13b13">Infrastructure As Code</h4>
						<h4 style="color: #e13b13; opacity: 0.3">Tests Automatisés</h4>
						<h4 style="color: #e13b13; opacity: 0.3">
							Intégration / Déploiement Continu
						</h4>
						<h4 style="color: #e13b13; opacity: 0.3">Approche Produit</h4>

						<aside class="notes">
							Maintenant que nous avons une vue plus clair de SRE attaquons ce
							qui est pour moi un des concepte les plus important ce mouvement
							c'est celui de "l'inforastructure as code"
						</aside>
					</section>


					<section>
						<h5>Concept</h5>

						<img class=fragment src="img/server_cluster.svg" width=200 />
						<span class=vertical-separator></span>
						<img class=fragment src="img/code_review.svg" width=200 />

						<aside class="notes">
							Le principe est simple: on veux abstraire les problématique
							système en proposant des outils et une syntax qui nous permettrons
							de décrire l'état souhaité d'une infrastructure par du code.
						</aside>
					</section>


					<section>
						<h5>Technologie</h5>

						<img src="img/ansible.png" height=400 />

						<aside class="notes">
							<ul>
								<li>état de l'art IAC</li>
								<li>open source</li>
								<li>Red Hat + communauté</li>
							</ul>
						</aside>
					</section>


					<section>
						<h5>Fonctionnement</h5>

						<img src="img/diag_ansible.svg" height=400 />

						<aside class="notes">
							Pour illustrer le fonctionnemnet d'ansible voyons l'installation
							d'un serveur web sur des machines vierge. On les listes dans un
							inventaire et on définis ensuite des taches pour permettre
							l'installation du serveur web lors du déploiement. L'ensemble de
							l'inventaire et des tâches s'appellent une recette ansible.
						</aside>
					</section>


					<section>
						<h5>Inventaire</h5>

						<pre><code class="yaml"
											 data-trim
											 data-line-numbers="|5,6|7|15,23,31|39,40|41|49,57,65|73-76|77-84|"
											 style="font-size: 17px; line-height: 19px;">
							all:
								children:
									secrets:
										children:
											dc1:
												hosts:
													aa08srvcerfg001.cdweb.biz:
														cluster: A04NTNXAL001
														datacenter: DC1
														domain: cdweb.biz
														interface0network: LAN-RCT-1000
														interface1subnet: VLAN 146 - LDC
														os: Debian 10
														[...]
													aa08srvcervt001.cdweb.biz:
														cluster: A04NTNXAL001
														datacenter: DC1
														domain: cdweb.biz
														interface0network: LAN-RCT-1000
														interface1subnet: VLAN 146 - LDC
														os: Debian 10.4
														[...]
													aa08srvcervt002.cdweb.biz:
														cluster: A04NTNXAL001
														datacenter: DC1
														domain: cdweb.biz
														interface0network: LAN-RCT-1000
														interface1subnet: VLAN 146 - LDC
														os: Debian 10.4
														[...]
													aa08srvcervt003.cdweb.biz:
														cluster: A04NTNXAL001
														datacenter: DC1
														domain: cdweb.biz
														interface0network: LAN-RCT-1000
														interface1subnet: VLAN 146 - LDC
														os: Debian 10.4
														[...]
											dc2:
												hosts:
													aa08srvcerfg002.cdweb.biz:
														cluster: A02NTNXBW001
														datacenter: DC2
														domain: cdweb.biz
														interface0network: LAN-HPROD-1000
														interface1subnet: VLAN 146 - PAR
														os: Debian 10
														[...]
													aa08srvcervt004.cdweb.biz:
														cluster: A02NTNXBW001
														datacenter: DC2
														domain: cdweb.biz
														interface0network: LAN-HPROD-1000
														interface1subnet: VLAN 146 - PAR
														os: Debian 10.4
														[...]
													aa08srvcervt005.cdweb.biz:
														cluster: A02NTNXBW001
														datacenter: DC2
														domain: cdweb.biz
														interface0network: LAN-HPROD-1000
														interface1subnet: VLAN 146 - PAR
														os: Debian 10.4
														[...]
													aa08srvcervt006.cdweb.biz:
														cluster: A02NTNXBW001
														datacenter: DC2
														domain: cdweb.biz
														interface0network: LAN-HPROD-1000
														interface1subnet: VLAN 146 - PAR
														os: Debian 10.4
														[...]
											fragments:
												hosts:
													aa08srvcerfg001.cdweb.biz: {}
													aa08srvcerfg002.cdweb.biz: {}
											vault:
												hosts:
													aa08srvcervt001.cdweb.biz: {}
													aa08srvcervt002.cdweb.biz: {}
													aa08srvcervt003.cdweb.biz: {}
													aa08srvcervt004.cdweb.biz: {}
													aa08srvcervt005.cdweb.biz: {}
													aa08srvcervt006.cdweb.biz: {}
									ungrouped: {}
						</code></pre>

						<aside class=notes>
							<ul>
								<li>groupe par datacenter</li>
								<li>groupe par type</li>
								<li>les même serveurs dans les deux groupes</li>
							</ul>
						</aside>
					</section>


					<section data-transition=zoom>
						<h5>Architecture de la solution : plateforme Vault</h5>

						<img src="img/diag_vault_platform.svg" width=1000 />

						<aside class=notes>
							<ul>
								<li>schéma bilan du mémoire</li>
								<li>bien plus détaillé dans le mémoire</li>
							</ul>
						</aside>
					</section>


					<section>
						<h5>Répartition des rôles</h5>

						<div class="animation-parent" style="width: 700px">
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_vault_instance_0.svg" width=800 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_vault_instance_1.svg" width=800 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_vault_instance_2.svg" width=800 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_vault_instance_3.svg" width=800 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_vault_instance_4.svg" width=800 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_vault_instance_5.svg" width=800 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_vault_instance_6.svg" width=800 />
							</div>
						</div>

						<aside class="notes">
						</aside>
					</section>


					<section>
						<h5>Définition de l'infrastructure</h5>

						<pre><code class="ansible"
											 data-trim
								 			 data-line-numbers="|2,4,15,17|6-12|28,30|32-35|"
											 style="font-size: 17px; line-height: 19px;">
							---
							- hosts: "{{ groups['dc1'] | intersect(groups['vault']) }}"
								roles:
									- role: vault-server
										vars:
											ca_directory: /home/tristan/Desktop/vault_sandbox_ca/
											us_directory: /home/tristan/Desktop/vault_sandbox_us/
											secret_shares: 2
											secret_threshold: 1
											ha_endpoint: >-
												{{ hostvars[ansible_play_hosts[0]]
														['ansible_facts']['default_ipv4']['address'] }}


							- hosts: "{{ groups['dc2'] | intersect(groups['vault']) }}"
								roles:
									- role: vault-server
										vars:
											ca_directory: /home/tristan/Desktop/vault_sandbox_ca/
											us_directory: /home/tristan/Desktop/vault_sandbox_us/
											secret_shares: 2
											secret_threshold: 1
											ha_endpoint: >-
												{{ hostvars[ansible_play_hosts[0]]
														['ansible_facts']['default_ipv4']['address'] }}


							- hosts: fragment
								roles:
									- role: fragment-server
										vars:
											cacert: /home/tristan/Desktop/vault_sandbox_ca/ca.pem
											keys: >-
												{{ lookup('file', '/home/tristan/Desktop/vault_sandbox_us/keys')
												| from_json }}
							...
						</code></pre>

						<aside class="notes">
							<ul>
								<li>décrire l'infrastructure</li>
								<li>lien entre inventaire et tâches</li>
								<li>applique des rôles à des ensembles de machines</li>
							</ul>
						</aside>
					</section>

				</section>


				<section>

					<section>
						<h4 style="color: #e13b13; opacity: 0.3">Infrastructure As Code</h4>
						<h4 style="color: #e13b13">Tests Automatisés</h4>
						<h4 style="color: #e13b13; opacity: 0.3">
							Intégration / Déploiement Continu
						</h4>
						<h4 style="color: #e13b13; opacity: 0.3">Approche Produit</h4>

						<aside class="notes">
						</aside>
					</section>


					<section>
						<h5>Concept</h5>

						<img src="img/online_test.svg" width=400 />

						<aside class="notes">
							<ul>
								<li>courant dans le monde du dev</li>
								<li>
									test : code supplémentaire qui va simuler l'éxecution du
									programme dans des conditions particulières pour tester son
									execution
								</li>
								<li>etapes fondamentales : 3A</li>
							</ul>
						</aside>
					</section>


					<section>
						<h5>Technologies</h5>

						<img src="img/molecule.png" width=200 />
						<span class=vertical-separator></span>
						<img src="img/docker.png" width=200 />

						<aside class="notes">
							<ul>
								<li>
									molecule est un framework de test opensource pour ansible
								</li>
								<li>
									docker est la technologie de containerisation la plus répandue
								</li>
							</ul>
						</aside>
					</section>


					<section>
						<h5>Fonctionnement</h5>

						<img src="img/diag_molecule.svg" width=500 />

						<aside class=notes>
							<ul>
								<li>chemin arrange</li>
								<li>chemin act</li>
							</ul>
						</aside>
					</section>


<!--
					<section>
						<h5>Create - Arrange</h5>

						<pre><code class="ansible"
											 data-trim
								 			 data-line-numbers="|4,5|7-13|14-20|21-27|"
											 style="font-size: 17px; line-height: 19px;">
							---
							dependency:
								name: galaxy
							driver:
								name: docker
							platforms:
								- name: fragment001
									groups: [ "fragment" ]
									image: docker-debian-systemd
									pre_build_image: true
									privileged: true
									volumes: [ "/sys/fs/cgroup:/sys/fs/cgroup:ro" ]
									command: "/lib/systemd/systemd"
								- name: vaultmock001
									groups: [ "vault" ]
									image: docker-debian-systemd
									pre_build_image: true
									privileged: true
									volumes: [ "/sys/fs/cgroup:/sys/fs/cgroup:ro" ]
									command: "/lib/systemd/systemd"
								- name: vaultmock002
									groups: [ "vault" ]
									image: docker-debian-systemd
									pre_build_image: true
									privileged: true
									volumes: [ "/sys/fs/cgroup:/sys/fs/cgroup:ro" ]
									command: "/lib/systemd/systemd"
							provisioner:
								name: ansible
							verifier:
								name: ansible
							...
						</pre></code>

						<aside class="notes">
							molecule provisionne infra et joue recette contre infra
						</aside>
					</section>


					<section>
						<h5>Converge - Act</h5>

						<pre><code class="ansible"
											 data-trim
								 			 data-line-numbers="|7,17|19-27|"
											 style="font-size: 17px; line-height: 19px;">
							---
							- name: Converge CA
								hosts: all
								vars:
									ca_dir: "/tmp/molecule_fragment_ca/"
								tasks:
									- import_tasks: mock_ca.yml

							- name: Converge vault mocks
								hosts: vault
								vars:
									sslbase: "/etc/nginx/ssl/"
									ca_directory: "/tmp/molecule_fragment_ca/"
									certfile: "{{ ca_directory }}/{{ inventory_hostname }}.pem"
									keyfile: "{{ ca_directory }}/{{ inventory_hostname }}.key"
								tasks:
									- import_tasks: mock_vault.yml

							- name: Converge fragments
								hosts: fragment
								tasks:
									- name: "Include fragment"
										include_role:
											name: "fragment-server"
										vars:
											cacert: '/tmp/molecule_fragment_ca/ca.pem'
											keys: "{{ '[\"foo\"]' | from_json }}"
							...						</pre></code>

						<aside class="notes">
						</aside>
					</section>
					-->


					<section>
						<h5>Verify</h5>

						<pre><code class="ansible"
											 data-trim
								 			 data-line-numbers="|2|4-6|8,9|"
											 style="font-size: 17px; line-height: 19px;">
							- name: Verify vault unseal
								hosts: vault
								tasks:
									- name: Get nginx logs
										command: tail -n 1 /var/log/nginx/access.log
										register: nginx_log

									- assert:
											that: nginx_log.stdout is search("PUT /v1/sys/unseal .* 404")
					</pre></code>

						<aside class="notes">
							<ul>
								<li>extrait du rôle fragment-server</li>
								<li>veux vérifier que vault recois appels de fragment</li>
								<li>unit test : simulé les vault par des nginx</li>
								<li>vérifie les logs pour constater connection</li>
								<li>ca c'est l'étape assert</li>
							</ul>
						</aside>
					</section>


					<section>
						<img src="img/diag_tdd.svg" width=700 />

						<aside class="notes">
							le tdd test driven dévellopement est une méthodes de dév ou l'on
							écrit les tests avant le code rendant le dévellopement plus
							robuste
						</aside>
					</section>

				</section>


				<section>

					<section>
						<h4 style="color: #e13b13; opacity: 0.3">Infrastructure As Code</h4>
						<h4 style="color: #e13b13; opacity: 0.3">Tests Automatisés</h4>
						<h4 style="color: #e13b13">Intégration / Déploiement Continu</h4>
						<h4 style="color: #e13b13; opacity: 0.3">Approche Produit</h4>

						<aside class="notes">
						</aside>
					</section>


					<section>
						<h5>Concept</h5>

						<img src="img/continuous_integration.svg" width=300 />

						<aside class="notes">
							<ul>
								<li>limite le temps entre feature et prod</li>
								<li>supprime les intermédiaires humain : + de sécu</li>
							</ul>
						</aside>
					</section>


					<section>
						<h5>Technologies</h5>

						<img src="img/version_control.svg" width=400 />
					</section>


					<section>
						<h5>Fonctionnement</h5>

						<img src="img/diag_cicd.svg" width=400 />

						<aside class="notes">
							schema dev into test molecule into deploy ansible
						</aside>
					</section>


					<section>
						<h5>Pipeline</h5>

						<img src="img/diag_pipline.svg" width=600 />

						<aside class="notes">
							<ul>
								<li>exemple de pipeline future pour vault</li>
								<li>on peu revenir dessus plus tard</li>
							</ul>
						</aside>
					</section>

				</section>


				<section>

					<section>
						<h4 style="color: #e13b13; opacity: 0.3">Infrastructure As Code</h4>
						<h4 style="color: #e13b13; opacity: 0.3">Tests Automatisés</h4>
						<h4 style="color: #e13b13; opacity: 0.3">
							Intégration / Déploiement Continu
						</h4>
						<h4 style="color: #e13b13">Approche Produit</h4>
					</section>


					<section>
						<h5>Concept</h5>

						<img src="img/product.svg" height="300" />

						<aside class="notes">
							<ul>
								<li>de plus en plus courant viens des GAFAM</li>
								<li>poussé de + en + par cdiscount</li>
								<li>s'intègre bien avec agile</li>
								<li>renouveller la façon de penser d'une équipe</li>
								<li>équipe vend au reste d'entreprise</li>
								<li>+ modulaire donc + de sécu</li>
								<li>+ facile à transformer en source de revenu</li>
							</ul>
						</aside>
					</section>


					<section>
						<h5>Technologies</h5>

						<!-- TODO ajouter le nom sous les confluence / jira / docker -->
						<img src="img/confluence.png" height="150" />
						<span class=vertical-separator></span>
						<img src="img/jira.png" height="150" />
						<span class=vertical-separator></span>
						<img src="img/docker.png" height="150" />

						<aside class="notes">
						</aside>
					</section>


					<section>
						<h5>Fonctionnement</h5>

						<!-- TODO inverser CA / AC -->

						<div class="animation-parent">
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_vault_product_1.svg" height=500 />
							</div>
							<div class="animation-child fragment fade-in-then-out">
								<img src="img/diag_vault_product_2.svg" height=500 />
							</div>
						</div>

						<aside class="notes">
						</aside>
					</section>


					<section>
						<h5>Architecture du code</h5>

						<img src="img/diag_code_arch_product.svg" height=500 />
					</section>

				</section>

 
				<!-- CONCLUSION -->
				<section>
					<h3>Conclusion</h3>

					<aside class="notes">
						<!-- TODO structurer -->
						<ul>
							<li>on à vu que : iac - test - cicd - approche produit</li>
							<li>apporte la qualité nécessaire à projet de sécu</li>
							<li>sujet = intéressant</li>
							<li>travaillé en autonomie et à temp plein</li>
							<li>+ grand truc que m'a apporté cdiscount</li>
							<li>d'ailleur master spé sécu en école d'ingé</li>
						</ul>
					</aside>
				</section>

				<section>
					<h1>?</h1>
				</section>

				<!--------------------------------------------------------------------->

				<section>
					<h2>Annexes</h2>
				</section>


				<section>
					<h3>Supports materiels</h3>
					<br>

					<div class=layer>
						<p>Système d'exploitation</p>
					</div>
					<div class=layer>
						<p>Système de fichier</p>
					</div>
					<div class=layer-luks>
						<img src="img/luks.png" height="100" />
					</div>
					<div class=layer>
						<p>Disque</p>
					</div>

					<aside class="notes">
						comme vault, les disques des machines sont chiffrés
					</aside>
				</section>


				<section>
					<h3>Jack</h3>

					<img src="img/screen_jack.png" width=700 />

					<aside class="notes">
						Pour la première activité, c'est un outil interne, Jack qui nous
						à aidé. Ce gestionnaire d'inventaire permet de définir sous forme
						d'arbre une infrastructure et de l'exporter ensuite dans un format
						compatible avec Ansible. On voit sur l'image que le projet cerbere
						contient une branche pour keycloak et une branche (secrets pour
						vault). Grâce à sa vue sous forme d'arbre, jack permet de définir
						des groupes. Par exemple, nous voyons un groupe pour chaque
						datacenter, un groupe pour les serveurs vault et un groupe pour
						les serveurs de fragment. On peut donc accéder par exemple à tout
						les serveurs de fragments de bordeaux en prenant l'intersection
						des ensembles dc1 et fragments.
					</aside>
				</section>


				<section>
					<h3>Architecture des tests</h3>

					<img src="img/diag_code_arch_test.svg" width=800 />
				</section>


				<section>
					<h3>Architecture des sous-modules</h3>

					<img src="img/diag_code_arch_submodules.svg" width=800 />

					<aside class="notes">
						permet tests unitaires
					</aside>
				</section>

			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			Reveal.initialize({
				hash: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
